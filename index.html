<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<title>Martinópole</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width,initial-scale=1"/>
		<link rel="stylesheet" type="text/css" href="./css/w3.css"/>
		<style>
		#desktop {
			text-align: left;
		}
		.icone {
			display: inline-block;
			text-decoration: none;
			width: 100px;
			vertical-align: top;
			text-align: center;
			font-size: 9pt;
			margin: 5px;
			border: solid 1px white;
			cursor: pointer;
		}
		.icone img {
			display: inline-block;
			margin: 5px;
		}
		.icone:hover {
			border: solid 1px gray;
		}
		</style>
		<script>
		var documentos = [
			{"titulo": "Cabeçalho Documento Vertical", "url": "cabecalho-documento-vertical.emf"},
			{"titulo": "Cabeçalho Documento Horizontal", "url": "cabecalho-documento-horizontal.svg"},
			{"titulo": "Rodapé Documento Vertical", "url": "rodape-documento-vertical.emf"},
			{"titulo": "Rodapé Documento Horizontal ", "url": "rodape-documento-vertical.svg"}
		];
		var imagens = [
			{"titulo": "Cabeçalho Documento Vertical", "url": "cabecalho-documento-vertical.emf"},
			{"titulo": "Cabeçalho Documento Horizontal", "url": "cabecalho-documento-horizontal.svg"},
			{"titulo": "Rodapé Documento Vertical", "url": "rodape-documento-vertical.emf"},
			{"titulo": "Rodapé Documento Horizontal ", "url": "rodape-documento-vertical.svg"}
		];
		var raiz = [
			{"titulo": "Documentos", "conteudo": documentos},
			{"titulo": "Imagens", "conteudo": imagens}
		];
		window.onload = function() {
			var desktop = document.getElementById("desktop");
			for (var i = 0; i < raiz.length; i++) {
				var icone = document.createElement("div");
				icone.setAttribute("class", "icone");
				var img = document.createElement("img");
				img.setAttribute("height", 60);
				img.setAttribute("width", 52);
				img.setAttribute("src", "./img/icone-pasta.png");
				icone.appendChild(img);
				var titulo = document.createElement("div");
				titulo.setAttribute("class", "titulo");
				titulo.innerHTML = raiz[i].titulo;
				icone.appendChild(titulo);
				var pastaAtual = raiz[i];
				icone.addEventListener("click", function() {
					var janela = document.createElement("div");
					janela.setAttribute("class", "janela");
					var barraTitulo = document.createElement("div");
					barraTitulo.setAttribute("class", "barraTitulo");
					barraTitulo.innerHTML = pastaAtual.titulo;
					var botaoFechar = document.createElement("div");
					botaoFechar.setAttribute("class", "botaoFechar");
					botaoFechar.innerHTML = "X";
					botaoFechar.addEventListener("click", function() {
						desktop.removeChild(janela);
					});
					barraTitulo.appendChild(botaoFechar);
					var conteudo = document.createElement("div");
					conteudo.setAttribute("class", "conteudo");
					for (var j = 0; j < pastaAtual.conteudo.length; j++) {
					console.log(pastaAtual.conteudo[j]);
						var icone = document.createElement("a");
						icone.setAttribute("class", "icone");
						icone.setAttribute("href", "./doc/" + pastaAtual.conteudo[j].url);
						icone.setAttribute("target", "_blank");
						icone.setAttribute("download", "");
						var img = document.createElement("img");
						img.setAttribute("height", 60);
						img.setAttribute("width", 52);
						var tipo = pastaAtual.conteudo[j].url.split(".")[1];
						switch (tipo) {
							case "pdf":
								img.setAttribute("src", "./img/icone-pdf.png");
								break;
							case "emf":
								img.setAttribute("src", "./img/icone-emf.png");
								break;
							case "svg":
								img.setAttribute("src", "./img/icone-svg.png");
								break;
							default: 
								img.setAttribute("src", "./img/icone.png");
						}
						icone.appendChild(img);
						var titulo = document.createElement("div");
						titulo.setAttribute("class", "titulo");
						titulo.innerHTML = pastaAtual.conteudo[j].titulo;
						icone.appendChild(titulo);
						conteudo.appendChild(icone);
					}
					desktop.appendChild(janela);
					
				});
				desktop.appendChild(icone);
			}
			/*
			for (var i = 0; i < arquivos.length; i++) {
				
			}
			*/
		}
		</script>
	</head>
	<body>
		<header class="w3-container w3-center w3-teal">
			<h1><b>SME Martinópole</b></h1>
		</header>
		<div id="desktop">
		</div>
		<footer class="w3-container w3-teal">

		</footer>
	</body>
</html>
