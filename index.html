<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<title>Martinópole</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width,initial-scale=1"/>
		<link rel="stylesheet" type="text/css" href="./css/w3.css"/>
		<style>
		body {
			background: #fff9e6;
		}
		#desktop {
			text-align: center;
		}
		.icone {
			display: inline-block;
			text-decoration: none;
			width: 100px;
			vertical-align: top;
			text-align: center;
			font-size: 9pt;
			margin: 1px;
			border: solid 1px transparent;
			cursor: pointer;
		}
		.icone img {
			display: inline-block;
			margin: 5px;
		}
		.icone:hover {
			border: solid 1px gray;
		}
		.janela {
			position: absolute;
			max-width: 600px;
			min-width: 300px;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			border: solid 1px gray;
			box-shadow: 5px 5px 10px gray;
		}
		.conteudo {
			background: white;
			overflow: auto;
		}
		.barraTitulo {
			font-size: small;
			color: white;
			font-weight: bold;
			background:  #006666;
			width: 100%;
			overflow: auto;
			height: 25px;
			padding-left: 5px;
		}
		.botaoFechar {
			float: right;
			width: 25px;
			height: 25px;
			background: red;
			font-weight: bold;
			text-align: center;
			color: white;
			cursor: pointer;
			vertical-align: middle;
		}
		.botaoFechar span {
			display: inline-block;
			font-size: 12pt;
		}
		.botaoFechar:hover {
			background: #ff0066;
		}
		</style>
		<script>
		function Pasta(titulo, conteudo) {
			this.titulo = titulo;
			this.conteudo = conteudo;
		}
		function Arquivo(titulo, url) {
			this.titulo = titulo;
			this.url = url;
		}
		var documentos = [
			{"titulo": "Calendário Letivo 2021", "url": "calendario2021.pdf"},
			{"titulo": "Calendário Letivo 2021 Montar (3 x 3)", "url": "calendario2021-montar.pdf"},
			{"titulo": "Declaração de Matrícula", "url": "declaracao-matricula.pdf"},
			{"titulo": "Declaração de Vagas", "url": "declaracao-vagas.pdf"},
			{"titulo": "Ficha de Matrícula", "url": "ficha-matricula.pdf"},
			{"titulo": "Mapa das Escolas", "url": "mapa-escolar.pdf"},
			{"titulo": "Timbrado Vertical", "url": "timbrado-vertical.odt"},
			{"titulo": "Timbrado Horizontal", "url": "timbrado-horizontal.odt"},
		];
		var imagens = [
			new Arquivo("Cabeçalho Documento Vertical", "cabecalho-documento-vertical.emf"),
			new Arquivo("Rodapé Documento Vertical", "rodape-documento-vertical.emf"),
			new Arquivo("Cabeçalho Documento Horizontal", "cabecalho-documento-horizontal.svg"),
			new Arquivo("Rodapé Documento Horizontal", "rodape-documento-horizontal.svg"),
			new Arquivo("SME Logotipo", "sme.svg"),
			new Arquivo("Prefeitura Logotipo", "prefeitura.png")
		];
		var raiz = [
			new Pasta("Imagens", imagens),
			new Pasta("Documentos", documentos)
		];
		function novaJanela(indice) {
			var pastaAtual = raiz[indice];
			var desktop = document.getElementById("desktop");
			var janela = document.createElement("div");
			janela.setAttribute("class", "janela");
			var barraTitulo = document.createElement("div");
			barraTitulo.setAttribute("class", "barraTitulo");
			barraTitulo.innerHTML = pastaAtual.titulo;
			var botaoFechar = document.createElement("div");
			botaoFechar.setAttribute("class", "botaoFechar");
			var spanBotaoFechar = document.createElement("span");
			spanBotaoFechar.innerHTML = "&times;";
			botaoFechar.appendChild(spanBotaoFechar);
			botaoFechar.addEventListener("click", function() {
				desktop.removeChild(janela);
			});
			barraTitulo.appendChild(botaoFechar);
			janela.appendChild(barraTitulo);
			var conteudo = document.createElement("div");
			conteudo.setAttribute("class", "conteudo");
			for (var j = 0; j < pastaAtual.conteudo.length; j++) {
				var icone = document.createElement("a");
				icone.setAttribute("class", "icone");
				icone.setAttribute("href", "./doc/" + pastaAtual.conteudo[j].url);
				icone.setAttribute("target", "_blank");
				icone.setAttribute("download", "");
				var img = document.createElement("img");
				img.setAttribute("height", 60);
				img.setAttribute("width", 52);
				var tipo = pastaAtual.conteudo[j].url.split(".")[1];
				switch (tipo) {
					case "pdf":
						img.setAttribute("src", "./img/icone-pdf.png");
						break;
					case "emf":
						img.setAttribute("src", "./img/icone-emf.png");
						break;
					case "png":
						img.setAttribute("src", "./img/icone-png.png");
						break;
					case "odt":
						img.setAttribute("src", "./img/icone-odt.png");
						break;
					case "svg":
						img.setAttribute("src", "./img/icone-svg.png");
						break;
					default: 
						img.setAttribute("src", "./img/icone.png");
				}
				icone.appendChild(img);
				var titulo = document.createElement("div");
				titulo.setAttribute("class", "titulo");
				titulo.innerHTML = pastaAtual.conteudo[j].titulo;
				icone.appendChild(titulo);
				conteudo.appendChild(icone);
			}
			janela.appendChild(conteudo);
			desktop.appendChild(janela);
		}
		window.onload = function() {
			var desktop = document.getElementById("desktop");
			for (var i = 0; i < raiz.length; i++) {
				var icone = document.createElement("div");
				icone.setAttribute("class", "icone");
				var img = document.createElement("img");
				img.setAttribute("height", 60);
				img.setAttribute("width", 52);
				img.setAttribute("src", "./img/icone-pasta.png");
				icone.appendChild(img);
				var titulo = document.createElement("div");
				titulo.setAttribute("class", "titulo");
				titulo.innerHTML = raiz[i].titulo;
				icone.appendChild(titulo);
				var pastaAtual = raiz[i];
				icone.setAttribute("onClick", "novaJanela(" + i + ")");
				desktop.appendChild(icone);
			}
		}
		</script>
	</head>
	<body>
		<header class="w3-container  w3-deep-purple w3-center">
			<h1><img src="./img/sme.png" height="40" width="175"/> <b>Arquivos</b></h1>
		</header>
		<div id="desktop">
		</div>
		<footer class="w3-container w3-center w3-padding-16">
			<small>by<br><b>Milton Rodrigues</b><br>Digitador<br><i>iomltn@gmail.com</i></small>
		</footer>
	</body>
</html>
